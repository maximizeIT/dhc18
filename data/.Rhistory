labs(x = "Tag des Monats", y = "Wartezeit in Stunden") + ggtitle("Wartezeit im letzten Monat nach Station") +
theme(plot.margin=unit(c(1.5,1.5,1.5,1.5),"cm")) +
theme(axis.text=element_text(size=18), axis.title=element_text(size=22), plot.title = element_text(size = 24, face = "bold"))
ggsave(filename = "AuslastungLetzterMonat.png", device = "png", width = 10, height = 7)
#Geräteauslastung gesamt
zeitdat %>%
filter(kategorie == "ultraschall") %>%
group_by(geraet, raum) %>%
summarize(std_tot = sum(dauer)) %>%
ggplot(aes(x = geraet, y = std_tot, fill = raum)) + geom_bar(stat = "identity") +
labs(x = "Geräte ID", y = "Nutzungsstunden letzter Monat") + ggtitle("Verteilung der Nutzung Ultraschallgeräte") +
theme(plot.margin=unit(c(1.5,1.5,1.5,1.5),"cm")) +
theme(axis.text=element_text(size=18), axis.title=element_text(size=22), plot.title = element_text(size = 24, face = "bold"))
ggsave(filename = "GeräteauslastungUltraschallGesamt.png", device = "png", width = 10, height = 7)
#Geräteauslastung einzeln
zeitdat %>%
filter(geraet == 3) %>%
ggplot(aes(x = raum,  y = dauer)) + geom_bar(stat = "identity") +
labs(x = "Raum", y = "Nutzungsstunden letzter Monat") + ggtitle("Verteilung der Nutzung Ultraschallgerät 005") +
theme(plot.margin=unit(c(1.5,1.5,1.5,1.5),"cm")) +
theme(axis.text=element_text(size=18), axis.title=element_text(size=22), plot.title = element_text(size = 24, face = "bold"))
ggsave(filename = "GeräteauslastungUltraschallEinzeln.png", device = "png", width = 10, height = 7)
#Raumnutzung
zeitdat %>%
group_by(raum, kategorie) %>%
summarize(hours = sum(dauer)) %>%
ggplot(aes(x = raum, y = hours, fill = kategorie)) + geom_bar(stat = "identity", position = "dodge") +
labs(x = "Raum", y = "Nutzungsstunden letzter Monat") + ggtitle("Auslastung der Räume über die letzten 30 Tage") +
theme(plot.margin=unit(c(1.5,1.5,1.5,1.5),"cm")) +
theme(axis.text=element_text(size=18), axis.title=element_text(size=22), plot.title = element_text(size = 24, face = "bold"))
ggsave(filename = "Raumnutzung.png", device = "png", width = 10, height = 7)
library(tidyverse)
library(readxl)
setwd("C:/Users/bened/dhc18/dhc18/Analyse")
zeitdat <- read_excel("testdaten.xlsx") %>%
mutate(raum = as.factor(raum)) %>%
mutate(geraet = as.factor(geraet)) %>%
mutate(kategorie = as.factor(kategorie)) %>%
mutate(dauer = ende - start)
setwd("C:/Users/bened/dhc18/dhc18/data")
raumdat <- read.csv("rooms.csv", sep = ";") %>%
as.tibble() %>%
mutate(Room_ID = as.factor(Room_ID)) %>%
mutate(Functiontyp = as.factor(Functiontyp)) %>%
mutate(Buliding_area = as.factor(Buliding_area)) %>%
mutate(station = as.factor(station))
zeitdat <- zeitdat %>%
left_join(raumdat, by = c("raum" = "Room_ID")) %>%
mutate(raum = as.factor(raum)) %>%
select(-Capacity, -Buliding_area, -Balkony, -bathroom, -Size, -floor) %>%
mutate(wartezeit = NA)
zeitdat
tail(zeitdat)
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet) %>%
summarize(halltime = sum(dauer))
halldata
zeitdat[2,]
zeitdat[2,] <- c(1,2,3,4,5,6,7,8,9,0)
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie) %>%
summarize(halltime = sum(dauer))
halldata
zeitdat
setwd("C:/Users/bened/dhc18/dhc18/Analyse")
zeitdat <- read_excel("testdaten.xlsx") %>%
mutate(raum = as.factor(raum)) %>%
mutate(geraet = as.factor(geraet)) %>%
mutate(kategorie = as.factor(kategorie)) %>%
mutate(dauer = ende - start)
#Aggregation der Wegzeiten
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie) %>%
summarize(halltime = sum(dauer))
zeitdat <- zeitdat %>%
filter(Functiontyp != hall_section)
for(i in 1:nrow(halldata)){
zeitdat[nrow(zeitdat) + 1,] <- c(halldat[i,1], "Transport", halldata[i,2], 0,0,0,halldata[i,3], hall_section)
}
zeitdat
library(tidyverse)
library(readxl)
setwd("C:/Users/bened/dhc18/dhc18/Analyse")
zeitdat <- read_excel("testdaten.xlsx") %>%
mutate(raum = as.factor(raum)) %>%
mutate(geraet = as.factor(geraet)) %>%
mutate(kategorie = as.factor(kategorie)) %>%
mutate(dauer = ende - start)
#Kombination mit Rauminformationen
setwd("C:/Users/bened/dhc18/dhc18/data")
raumdat <- read.csv("rooms.csv", sep = ";") %>%
as.tibble() %>%
mutate(Room_ID = as.factor(Room_ID)) %>%
mutate(Functiontyp = as.factor(Functiontyp)) %>%
mutate(Buliding_area = as.factor(Buliding_area)) %>%
mutate(station = as.factor(station))
zeitdat <- zeitdat %>%
left_join(raumdat, by = c("raum" = "Room_ID")) %>%
mutate(raum = as.factor(raum)) %>%
select(-Capacity, -Buliding_area, -Balkony, -bathroom, -Size, -floor) %>%
mutate(wartezeit = NA)
zeitdat
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie, station) %>%
summarize(halltime = sum(dauer))
halldata
setwd("C:/Users/bened/dhc18/dhc18/Analyse")
zeitdat <- read_excel("testdaten.xlsx") %>%
mutate(raum = as.factor(raum)) %>%
mutate(geraet = as.factor(geraet)) %>%
mutate(kategorie = as.factor(kategorie)) %>%
mutate(dauer = ende - start)
#Kombination mit Rauminformationen
setwd("C:/Users/bened/dhc18/dhc18/data")
raumdat <- read.csv("rooms.csv", sep = ";") %>%
as.tibble() %>%
mutate(Room_ID = as.factor(Room_ID)) %>%
mutate(Functiontyp = as.factor(Functiontyp)) %>%
mutate(Buliding_area = as.factor(Buliding_area)) %>%
mutate(station = as.factor(station))
zeitdat <- zeitdat %>%
left_join(raumdat, by = c("raum" = "Room_ID")) %>%
mutate(raum = as.factor(raum)) %>%
select(-Capacity, -Buliding_area, -Balkony, -bathroom, -Size, -floor) %>%
mutate(wartezeit = NA)
#Aggregation der Wegzeiten
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie, station) %>%
summarize(halltime = sum(dauer))
zeitdat <- zeitdat %>%
filter(Functiontyp != hall_section)
for(i in 1:nrow(halldata)){
zeitdat[nrow(zeitdat) + 1,] <- c(halldat[i,1], "Transport", halldata[i,2], 0,0,0,halldata[i,3], hall_section, halldata[i,4])
}
zeitdat
tail(zeitdat)
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie, station) %>%
summarize(halltime = sum(dauer))
zeitdat <- zeitdat %>%
filter(Functiontyp != hall_section)
#Aggregation der Wegzeiten
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie, station) %>%
summarize(halltime = sum(dauer))
zeitdat <- zeitdat %>%
filter(Functiontyp != "hall_section")
for(i in 1:nrow(halldata)){
zeitdat[nrow(zeitdat) + 1,] <- c(halldat[i,1], "Transport", halldata[i,2], 0,0,0,halldata[i,3], hall_section, halldata[i,4])
}
#Aggregation der Wegzeiten
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie, station) %>%
summarize(halltime = sum(dauer))
zeitdat <- zeitdat %>%
filter(Functiontyp != "hall_section")
for(i in 1:nrow(halldata)){
zeitdat[nrow(zeitdat) + 1,] <- c(halldata[i,1], "Transport", halldata[i,2], 0,0,0, halldata[i,3], hall_section, halldata[i,4])
}
#Aggregation der Wegzeiten
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie, station) %>%
summarize(halltime = sum(dauer))
zeitdat <- zeitdat %>%
filter(Functiontyp != "hall_section")
for(i in 1:nrow(halldata)){
zeitdat[nrow(zeitdat) + 1,] <- c(halldata[i,1], "Transport", halldata[i,2], 0,0,0, halldata[i,3], "hall_section", halldata[i,4])
}
halldata
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie, station) %>%
summarize(halltime = sum(dauer))
halldata
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie) %>%
summarize(halltime = sum(dauer))
halldata
zeitdat
library(tidyverse)
library(readxl)
setwd("C:/Users/bened/dhc18/dhc18/Analyse")
zeitdat <- read_excel("testdaten.xlsx") %>%
mutate(raum = as.factor(raum)) %>%
mutate(geraet = as.factor(geraet)) %>%
mutate(kategorie = as.factor(kategorie)) %>%
mutate(dauer = ende - start)
#Kombination mit Rauminformationen
setwd("C:/Users/bened/dhc18/dhc18/data")
raumdat <- read.csv("rooms.csv", sep = ";") %>%
as.tibble() %>%
mutate(Room_ID = as.factor(Room_ID)) %>%
mutate(Functiontyp = as.factor(Functiontyp)) %>%
mutate(Buliding_area = as.factor(Buliding_area)) %>%
mutate(station = as.factor(station))
zeitdat <- zeitdat %>%
left_join(raumdat, by = c("raum" = "Room_ID")) %>%
mutate(raum = as.factor(raum)) %>%
select(-Capacity, -Buliding_area, -Balkony, -bathroom, -Size, -floor) %>%
mutate(wartezeit = NA)
#Aggregation der Wegzeiten
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie) %>%
summarize(halltime = sum(dauer))
halldata
zeitdat <- zeitdat %>%
filter(Functiontyp != "hall_section")
for(i in 1:nrow(halldata)){
zeitdat[nrow(zeitdat) + 1,] <- c(halldata[i,1], "Transport", halldata[i,2], 0,0,0, halldata[i,3], "hall_section", halldata[i,4])
}
zeitdat <- zeitdat %>%
filter(Functiontyp != "hall_section")
for(i in 1:nrow(halldata)){
zeitdat[nrow(zeitdat) + 1,] <- c(halldata[i,1], "Transport", halldata[i,2], 0,0,0, halldata[i,3], "hall_section", NA)
}
zeitdat
tail(zeitdat)
setwd("C:/Users/bened/dhc18/dhc18/Analyse")
zeitdat <- read_excel("testdaten.xlsx") %>%
mutate(raum = as.factor(raum)) %>%
mutate(geraet = as.factor(geraet)) %>%
mutate(kategorie = as.factor(kategorie)) %>%
mutate(dauer = ende - start)
#Kombination mit Rauminformationen
setwd("C:/Users/bened/dhc18/dhc18/data")
raumdat <- read.csv("rooms.csv", sep = ";") %>%
as.tibble() %>%
mutate(Room_ID = as.factor(Room_ID)) %>%
mutate(Functiontyp = as.factor(Functiontyp)) %>%
mutate(Buliding_area = as.factor(Buliding_area)) %>%
mutate(station = as.factor(station))
zeitdat <- zeitdat %>%
left_join(raumdat, by = c("raum" = "Room_ID")) %>%
mutate(raum = as.factor(raum)) %>%
select(-Capacity, -Buliding_area, -Balkony, -bathroom, -Size, -floor) %>%
mutate(wartezeit = NA)
#Aggregation der Wegzeiten
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie) %>%
summarize(halltime = sum(dauer))
zeitdat <- zeitdat %>%
filter(Functiontyp != "hall_section")
for(i in 1:nrow(halldata)){
zeitdat[nrow(zeitdat) + 1,] <- c(halldata[i,1], "Transport", halldata[i,2], 0,0,0, halldata[i,3], "hall_section", NA)
}
#Wartezeiten berechnen
for(i in 1:nrow(zeitdat)){
if(data.frame(zeitdat[i,8])[1,1] %in% c("meeting_room", "doctors_room") && zeitdat[i,3] == "patient"){
tagp = data.frame(zeitdat[i,6])[1,1]
startp = data.frame(zeitdat[i,4])[1,1]
endep = data.frame(zeitdat[i,5])[1,1]
raump = data.frame(zeitdat[i,2])[1,1]
arztanw <- zeitdat %>%
filter(kategorie %in% c("arzt", "schwester")) %>%
filter(tag == tagp) %>%
filter(raum == raump)
if(nrow(arztanw) > 0){
for(j in 1:nrow(arztanw)){
if(arztanw$start[j] < startp){
zeitdat$wartezeit[i] <- 0
}
else if(arztanw$start[j] == startp){
zeitdat$wartezeit[i] <- 0
}
else if(arztanw$start[j] > startp && arztanw$start[j] <= endep){
zeitdat$wartezeit[i] <- arztanw$start[j] - startp
}
}
}
else{
zeitdat$wartezeit[i] <- zeitdat$dauer[i]
}
}
}
zeitdat
tail(zeitdat)
setwd("C:/Users/bened/dhc18/dhc18/Analyse")
zeitdat <- read_excel("testdaten.xlsx") %>%
mutate(raum = as.factor(raum)) %>%
mutate(geraet = as.factor(geraet)) %>%
mutate(kategorie = as.factor(kategorie)) %>%
mutate(dauer = ende - start)
#Kombination mit Rauminformationen
setwd("C:/Users/bened/dhc18/dhc18/data")
raumdat <- read.csv("rooms.csv", sep = ";") %>%
as.tibble() %>%
mutate(Room_ID = as.factor(Room_ID)) %>%
mutate(Functiontyp = as.factor(Functiontyp)) %>%
mutate(Buliding_area = as.factor(Buliding_area)) %>%
mutate(station = as.factor(station))
zeitdat <- zeitdat %>%
left_join(raumdat, by = c("raum" = "Room_ID")) %>%
mutate(raum = as.factor(raum)) %>%
select(-Capacity, -Buliding_area, -Balkony, -bathroom, -Size, -floor) %>%
mutate(wartezeit = NA)
#Aggregation der Wegzeiten
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie) %>%
summarize(halltime = sum(dauer))
zeitdat <- zeitdat %>%
filter(Functiontyp != "hall_section")
for(i in 1:nrow(halldata)){
zeitdat[nrow(zeitdat) + 1,] <- c(halldata[i,1], "Transport", halldata[i,2], 0,0,0, halldata[i,3], "hall_section", NA)
}
tail(zeitdat)
setwd("C:/Users/bened/dhc18/dhc18/Analyse")
zeitdat <- read_excel("testdaten.xlsx") %>%
mutate(raum = as.factor(raum)) %>%
mutate(geraet = as.factor(geraet)) %>%
mutate(kategorie = as.factor(kategorie)) %>%
mutate(dauer = ende - start)
#Kombination mit Rauminformationen
setwd("C:/Users/bened/dhc18/dhc18/data")
raumdat <- read.csv("rooms.csv", sep = ";") %>%
as.tibble() %>%
mutate(Room_ID = as.factor(Room_ID)) %>%
mutate(Functiontyp = as.factor(Functiontyp)) %>%
mutate(Buliding_area = as.factor(Buliding_area)) %>%
mutate(station = as.factor(station))
zeitdat <- zeitdat %>%
left_join(raumdat, by = c("raum" = "Room_ID")) %>%
mutate(raum = as.factor(raum)) %>%
select(-Capacity, -Buliding_area, -Balkony, -bathroom, -Size, -floor) %>%
mutate(wartezeit = NA)
#Aggregation der Wegzeiten
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie) %>%
summarize(halltime = sum(dauer))
zeitdat <- zeitdat %>%
filter(Functiontyp != "hall_section")
for(i in 1:nrow(halldata)){
zeitdat[nrow(zeitdat) + 1,] <- c(halldata[i,1], "Transport", halldata[i,2], 0,0,0, halldata[i,3], "hall_section", NA, NA)
}
tail(zeitdat)
library(tidyverse)
library(readxl)
setwd("C:/Users/bened/dhc18/dhc18/Analyse")
zeitdat <- read_excel("testdaten.xlsx") %>%
mutate(raum = as.factor(raum)) %>%
mutate(geraet = as.factor(geraet)) %>%
mutate(kategorie = as.factor(kategorie)) %>%
mutate(dauer = ende - start)
#Kombination mit Rauminformationen
setwd("C:/Users/bened/dhc18/dhc18/data")
raumdat <- read.csv("rooms.csv", sep = ";") %>%
as.tibble() %>%
mutate(Room_ID = as.factor(Room_ID)) %>%
mutate(Functiontyp = as.factor(Functiontyp)) %>%
mutate(Buliding_area = as.factor(Buliding_area)) %>%
mutate(station = as.factor(station))
zeitdat <- zeitdat %>%
left_join(raumdat, by = c("raum" = "Room_ID")) %>%
mutate(raum = as.factor(raum)) %>%
select(-Capacity, -Buliding_area, -Balkony, -bathroom, -Size, -floor) %>%
mutate(wartezeit = NA)
#Aggregation der Wegzeiten
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie) %>%
summarize(halltime = sum(dauer))
zeitdat <- zeitdat %>%
filter(Functiontyp != "hall_section")
for(i in 1:nrow(halldata)){
zeitdat[nrow(zeitdat) + 1,] <- c(halldata[i,1], "Transport", halldata[i,2], 0,0,0, halldata[i,3], "hall_section", NA, NA)
}
#Wartezeiten berechnen
for(i in 1:nrow(zeitdat)){
if(data.frame(zeitdat[i,8])[1,1] %in% c("meeting_room", "doctors_room") && zeitdat[i,3] == "patient"){
tagp = data.frame(zeitdat[i,6])[1,1]
startp = data.frame(zeitdat[i,4])[1,1]
endep = data.frame(zeitdat[i,5])[1,1]
raump = data.frame(zeitdat[i,2])[1,1]
arztanw <- zeitdat %>%
filter(kategorie %in% c("arzt", "schwester")) %>%
filter(tag == tagp) %>%
filter(raum == raump)
if(nrow(arztanw) > 0){
for(j in 1:nrow(arztanw)){
if(arztanw$start[j] < startp){
zeitdat$wartezeit[i] <- 0
}
else if(arztanw$start[j] == startp){
zeitdat$wartezeit[i] <- 0
}
else if(arztanw$start[j] > startp && arztanw$start[j] <= endep){
zeitdat$wartezeit[i] <- arztanw$start[j] - startp
}
}
}
else{
zeitdat$wartezeit[i] <- zeitdat$dauer[i]
}
}
if(zeitdat$Functiontyp[i] == "hall_section"){
zeitdat$kategorie[i] <- "Transport"
}
}
zeitdat
tail(zeitdat)
setwd("C:/Users/bened/dhc18/dhc18/Analyse")
zeitdat <- read_excel("testdaten.xlsx") %>%
mutate(raum = as.factor(raum)) %>%
mutate(geraet = as.factor(geraet)) %>%
mutate(kategorie = as.factor(kategorie)) %>%
mutate(dauer = ende - start)
#Kombination mit Rauminformationen
setwd("C:/Users/bened/dhc18/dhc18/data")
raumdat <- read.csv("rooms.csv", sep = ";") %>%
as.tibble() %>%
mutate(Room_ID = as.factor(Room_ID)) %>%
mutate(Functiontyp = as.factor(Functiontyp)) %>%
mutate(Buliding_area = as.factor(Buliding_area)) %>%
mutate(station = as.factor(station))
zeitdat <- zeitdat %>%
left_join(raumdat, by = c("raum" = "Room_ID")) %>%
mutate(raum = as.factor(raum)) %>%
select(-Capacity, -Buliding_area, -Balkony, -bathroom, -Size, -floor) %>%
mutate(wartezeit = NA)
#Aggregation der Wegzeiten
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie) %>%
summarize(halltime = sum(dauer))
zeitdat <- zeitdat %>%
filter(Functiontyp != "hall_section") %>%
mutate(raum = toString(raum))
for(i in 1:nrow(halldata)){
zeitdat[nrow(zeitdat) + 1,] <- c(halldata[i,1], "Transport", halldata[i,2], 0,0,0, halldata[i,3], "hall_section", NA, NA)
}
zeitdat <- zeitdat %>%
mutate(raum = as.factor(Raum))
setwd("C:/Users/bened/dhc18/dhc18/Analyse")
zeitdat <- read_excel("testdaten.xlsx") %>%
mutate(raum = as.factor(raum)) %>%
mutate(geraet = as.factor(geraet)) %>%
mutate(kategorie = as.factor(kategorie)) %>%
mutate(dauer = ende - start)
#Kombination mit Rauminformationen
setwd("C:/Users/bened/dhc18/dhc18/data")
raumdat <- read.csv("rooms.csv", sep = ";") %>%
as.tibble() %>%
mutate(Room_ID = as.factor(Room_ID)) %>%
mutate(Functiontyp = as.factor(Functiontyp)) %>%
mutate(Buliding_area = as.factor(Buliding_area)) %>%
mutate(station = as.factor(station))
zeitdat <- zeitdat %>%
left_join(raumdat, by = c("raum" = "Room_ID")) %>%
mutate(raum = as.factor(raum)) %>%
select(-Capacity, -Buliding_area, -Balkony, -bathroom, -Size, -floor) %>%
mutate(wartezeit = NA)
#Aggregation der Wegzeiten
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie) %>%
summarize(halltime = sum(dauer))
zeitdat <- zeitdat %>%
filter(Functiontyp != "hall_section") %>%
mutate(raum = toString(raum))
for(i in 1:nrow(halldata)){
zeitdat[nrow(zeitdat) + 1,] <- c(halldata[i,1], "Transport", halldata[i,2], 0,0,0, halldata[i,3], "hall_section", NA, NA)
}
zeitdat <- zeitdat %>%
mutate(raum = as.factor(raum))
zeitdat
zeitdat
zeitdat
dim(zeitdat)
data.frame(zeitdat)
library(tidyverse)
library(readxl)
setwd("C:/Users/bened/dhc18/dhc18/Analyse")
zeitdat <- read_excel("testdaten.xlsx") %>%
mutate(raum = as.factor(raum)) %>%
mutate(geraet = as.factor(geraet)) %>%
mutate(kategorie = as.factor(kategorie)) %>%
mutate(dauer = ende - start)
#Kombination mit Rauminformationen
setwd("C:/Users/bened/dhc18/dhc18/data")
raumdat <- read.csv("rooms.csv", sep = ";") %>%
as.tibble() %>%
mutate(Room_ID = as.factor(Room_ID)) %>%
mutate(Functiontyp = as.factor(Functiontyp)) %>%
mutate(Buliding_area = as.factor(Buliding_area)) %>%
mutate(station = as.factor(station))
zeitdat <- zeitdat %>%
left_join(raumdat, by = c("raum" = "Room_ID")) %>%
mutate(raum = as.factor(raum)) %>%
select(-Capacity, -Buliding_area, -Balkony, -bathroom, -Size, -floor) %>%
mutate(wartezeit = NA)
#Aggregation der Wegzeiten
halldata <- zeitdat %>%
filter(Functiontyp == "hall_section") %>%
group_by(geraet, kategorie) %>%
summarize(halltime = sum(dauer))
zeitdat <- zeitdat %>%
filter(Functiontyp != "hall_section") %>%
mutate(raum = toString(raum))
zeitdat
